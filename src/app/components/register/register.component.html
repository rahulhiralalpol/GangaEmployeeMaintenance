<mat-card class="login-card mat-elevation-z5">
  <mat-card-header>
    <mat-toolbar color="primary" class="loginicon mat-elevation-z8">
      <mat-icon>{{ "edit" }}</mat-icon>
    </mat-toolbar>
  </mat-card-header>
  <mat-card-content>
    <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="formfields">
        <!-- Email Field -->
        <mat-form-field class="full-width">
          <mat-label>Email</mat-label>
          <input
            id="email"
            matInput
            placeholder="example@email.com"
            formControlName="email"
          />
          <mat-icon matSuffix>email</mat-icon>
          <mat-error *ngIf="loginForm.controls.email.invalid">{{
            getEmailErrorMessage()
          }}</mat-error>
        </mat-form-field>

        <!-- Password Field -->
        <mat-form-field class="full-width">
          <mat-label>Password</mat-label>
          <input
            matInput
            placeholder="Password"
            [type]="hide ? 'password' : 'text'"
            formControlName="password"
            maxlength="15"
          />
          <mat-icon matSuffix (click)="hide = !hide">{{
            hide ? "visibility_off" : "visibility"
          }}</mat-icon>
          <mat-hint align="end" aria-live="polite">
            {{ loginForm.controls.password.value.length }} / 15
          </mat-hint>
          <mat-error *ngIf="loginForm.controls.password.invalid">{{
            getPasswordErrorMessage()
          }}</mat-error>
        </mat-form-field>

        <!-- Password Strength Meter -->
        <app-passwordstrengthindicator
          [password]="loginForm.controls.password.value"
        ></app-passwordstrengthindicator>

        <!-- Confirm Password Field -->
        <mat-form-field class="full-width">
          <input
            matInput
            placeholder="Confirm Password"
            type="password"
            formControlName="confpassword"
          />
          <mat-icon matSuffix>visibility_off</mat-icon>
          <mat-error *ngIf="loginForm.controls.confpassword.invalid">{{
            getConfPasswordErrorMessage()
          }}</mat-error>
        </mat-form-field>
      </div>
      <div class="submitbuttons">
        <button
          type="submit"
          [disabled]="!loginForm.valid"
          id="LoginButton"
          color="primary"
          mat-raised-button
        >
          R E G I S T E R
        </button>
        <a id="StateButton" mat-button (click)="ChangeState()">
          Already a User ? ..... Click here to Login.....
        </a>
      </div>
    </form>
  </mat-card-content>
</mat-card>
